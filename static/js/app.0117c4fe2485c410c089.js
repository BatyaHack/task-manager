webpackJsonp([1],{"/aq2":function(t,e){},"3ewz":function(t,e){},"7Otq":function(t,e,a){t.exports=a.p+"static/img/logo.525937d.png"},CsIM:function(t,e){},IZxB:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("7+uW"),i=a("NYxO");var n=function(){var t=document.querySelector(".navigation__burger"),e=document.querySelector(".navigation__list--mobile"),a=document.querySelector(".top-bar"),s=document.querySelector(".content-block__container"),i=document.querySelector(".navigation__list--mobile"),n=a.clientHeight,r=parseInt(getComputedStyle(s).paddingTop);i.addEventListener("click",function(t){t.target.classList.contains("navigation__link")&&e.classList.toggle("navigation__list--open")}),t.addEventListener("click",function(t){t.preventDefault(),e.classList.toggle("navigation__list--open")}),window.onscroll=function(){(window.pageYOffset||document.documentElement.scrollTop)>n?(a.classList.add("top-bar--fixed"),s.style.paddingTop=n+r+"px"):(a.classList.remove("top-bar--fixed"),s.style.paddingTop=r+"px")}},r={name:"TobBar",mounted:function(){n()}},l={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("header",{staticClass:"top-bar"},[s("div",{staticClass:"container  top-bar__container"},[s("section",{staticClass:"logo  top-bar__logo"},[s("div",{staticClass:"logo__wrapper"},[s("router-link",{attrs:{to:{name:"TaskList"},"exact-active-class":""}},[s("img",{staticClass:"logo__img",attrs:{src:a("7Otq"),alt:"logo-img"}})])],1),t._v(" "),s("h1",{staticClass:"logo__seo-title",attrs:{hidden:""}},[t._v("такс менеджер")])]),t._v(" "),s("nav",{staticClass:"navigation  top-bar__navigation"},[s("ul",{staticClass:"navigation__list"},[s("li",{staticClass:"navigation__elem"},[s("router-link",{staticClass:"navigation__link",attrs:{to:{name:"TaskCreated"}}},[t._v("\n            Добавить задачу\n          ")])],1),t._v(" "),t._m(0),t._v(" "),t._m(1)]),t._v(" "),s("ul",{staticClass:"navigation__list  navigation__list--mobile"},[s("li",{staticClass:"navigation__elem"},[s("router-link",{staticClass:"navigation__link",attrs:{to:{name:"TaskCreated"}}},[t._v("\n            Добавить задачу\n          ")])],1),t._v(" "),t._m(2),t._v(" "),t._m(3)]),t._v(" "),t._m(4)])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("li",{staticClass:"navigation__elem"},[e("a",{staticClass:"navigation__link",attrs:{href:"#"}},[this._v("Пункт 1")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",{staticClass:"navigation__elem"},[e("a",{staticClass:"navigation__link",attrs:{href:"#"}},[this._v("Пункт 2")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",{staticClass:"navigation__elem"},[e("a",{staticClass:"navigation__link",attrs:{href:"#"}},[this._v("Пункт 1")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",{staticClass:"navigation__elem"},[e("a",{staticClass:"navigation__link",attrs:{href:"#"}},[this._v("Пункт 2")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"navigation__burger"},[e("span",{staticClass:"navigation__line"})])}]};var o={name:"App",components:{"top-bar":a("VU/8")(r,l,!1,function(t){a("IZxB")},null,null).exports},created:function(){this.$store.dispatch("getAllTask")}},c={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("top-bar"),this._v(" "),e("main",{staticClass:"content-block"},[e("div",{staticClass:"container  content-block__container"},[e("transition",{attrs:{name:"slide",mode:"out-in"}},[e("router-view")],1)],1)])],1)},staticRenderFns:[]};var _=a("VU/8")(o,c,!1,function(t){a("cp4l")},null,null).exports,u=a("/ocq"),d={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("article",{staticClass:"card-task  content-block__card-task"},[a("header",{staticClass:"card-task__header"},[a("div",{staticClass:"card-task__wrapper-img"},[a("img",{staticClass:"card-task__img",attrs:{src:t.content.img,alt:"card-task-img"}}),t._v(" "),a("div",{staticClass:"card-task__controls"},[a("router-link",{staticClass:"card-task__control  card-task__control--edit",attrs:{to:{name:"TaskEdit",params:{taskID:t.content.id}}}}),t._v(" "),a("a",{staticClass:"card-task__control  card-task__control--delete",attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.removeTask(e)}}})],1)]),t._v(" "),a("h2",{staticClass:"card-task__title"},[t._v(t._s(t.content.title))])]),t._v(" "),a("div",{staticClass:"card-task__content"},[a("p",{staticClass:"card-task__description"},[t._v(t._s(t.content.description))]),t._v(" "),a("time",{staticClass:"card-task__time  card-task__time"},[t._v(t._s(t.content.time))])]),t._v(" "),t._m(0)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("footer",{staticClass:"card-task__footer"},[e("a",{staticClass:"btn  btn--secondary  card-task__btn",attrs:{href:"#"}},[this._v("просмотреть")])])}]};var p=a("VU/8")({props:["content"],methods:{removeTask:function(){this.$store.dispatch("removeTask",{id:this.content.id})}}},d,!1,function(t){a("3ewz")},null,null).exports,m={computed:Object(i.b)({allTask:"allTask"}),components:{task:p}},v={render:function(){var t=this.$createElement,e=this._self._c||t;return e("transition-group",{staticClass:"row  content-block__row",attrs:{name:"list",tag:"div",mode:"out-in"}},this._l(this.allTask,function(t,a){return e("task",{key:a,attrs:{content:t}})}))},staticRenderFns:[]};var f=a("VU/8")(m,v,!1,function(t){a("cDwY")},null,null).exports;var g=function(t){document.getElementById("img-pic"),document.getElementById("test-input").addEventListener("change",function(){if(this.files&&this.files[0]){var e=new FileReader;e.onload=function(e){t.newUser.img=e.target.result},e.readAsDataURL(this.files[0])}})},h={year:"numeric",month:"numeric",day:"numeric"},k={data:function(){return{errorFlag:!1}},methods:{_updateValue:function(t){return this.$checkInput(this.newUser.title)&&this.$checkInput(this.newUser.description)&&""!==this.newUser.img},createdTask:function(){this._updateValue()?this._successInput():this._errorInput()},_errorInput:function(){var t=this;this.newUser.title="",this.newUser.description="",this.errorFlag=!0,this.$refs.form.classList.add("errorAnimation"),setTimeout(function(){t.$refs.form.classList.remove("errorAnimation")},1e3)}},mounted:function(){g(this)}},w={mixins:[k],props:["taskID"],data:function(){return{newUser:{}}},methods:{_successInput:function(){this.$store.dispatch("editTask",{id:this.newUser.id,title:this.newUser.title,description:this.newUser.description,img:this.newUser.img,time:(new Date).toLocaleString("ru",h)}),this.$router.push("/")}},created:function(){this.newUser=this.$store.getters.taskID(this.taskID),void 0===this.newUser&&this.$router.push("/")}},C={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"new-task  left-block__new-task"},[t.errorFlag?a("p",{staticClass:"info-text  info-text--error"},[t._v(" Вы ввели корявые символы")]):a("div",{staticClass:"info-text"},[a("p",[t._v("Достпны только символы 1-9 A-Z A-Я !,.?")]),t._v(" "),a("p",[t._v("Картинка обязательна")])]),t._v(" "),a("form",{ref:"form",staticClass:"new-task__form",attrs:{action:"#"}},[a("label",{staticClass:"label  label--material  new-task__label"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.newUser.title,expression:"newUser.title"}],staticClass:"input  input--primary  label__input",attrs:{type:"text",required:""},domProps:{value:t.newUser.title},on:{input:function(e){e.target.composing||t.$set(t.newUser,"title",e.target.value)}}}),t._v(" "),a("span",{staticClass:"label__title"},[t._v("Заголовок")])]),t._v(" "),a("label",{staticClass:"label  label--material  new-task__label"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.newUser.description,expression:"newUser.description"}],staticClass:"input  input--primary  input--textarea  label__input",attrs:{type:"text",required:""},domProps:{value:t.newUser.description},on:{input:function(e){e.target.composing||t.$set(t.newUser,"description",e.target.value)}}}),t._v(" "),a("span",{staticClass:"label__title"},[t._v("Описание")])]),t._v(" "),a("div",{staticClass:"img-prev  new-task__img-prev"},[a("label",{staticClass:"img-prev__label"},[a("img",{staticClass:"img-prev__img",attrs:{id:"img-pic",src:t.newUser.img}}),t._v(" "),a("span",{staticClass:"img-prev__icon"}),t._v(" "),a("input",{attrs:{type:"file",id:"test-input",hidden:""}})])]),t._v(" "),a("button",{staticClass:"btn  btn--primary  new-task__btn",on:{click:function(e){e.preventDefault(),t.createdTask(e)}}},[t._v("Отправить")])])])},staticRenderFns:[]};var b=a("VU/8")(w,C,!1,function(t){a("/aq2")},null,null).exports,T={mixins:[k],data:function(){return{newUser:{title:"",description:"",time:"",img:""}}},methods:{_successInput:function(){this.$store.dispatch("addTask",{title:this.newUser.title,description:this.newUser.description,img:this.newUser.img,time:(new Date).toLocaleString("ru",h)}),this.$router.push("/")}}},U={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"new-task  left-block__new-task"},[t.errorFlag?a("p",{staticClass:"info-text  info-text--error"},[t._v(" Вы ввели корявые символы")]):a("div",{staticClass:"info-text"},[a("p",[t._v("Достпны только символы 1-9 A-Z A-Я !,.?")]),t._v(" "),a("p",[t._v("Картинка обязательна")])]),t._v(" "),a("form",{ref:"form",staticClass:"new-task__form",attrs:{action:"#"}},[a("label",{staticClass:"label  label--material  new-task__label"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.newUser.title,expression:"newUser.title"}],staticClass:"input  input--primary  label__input",attrs:{type:"text",required:""},domProps:{value:t.newUser.title},on:{input:function(e){e.target.composing||t.$set(t.newUser,"title",e.target.value)}}}),t._v(" "),a("span",{staticClass:"label__title"},[t._v("Заголовок")])]),t._v(" "),a("label",{staticClass:"label  label--material  new-task__label"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.newUser.description,expression:"newUser.description"}],staticClass:"input  input--primary  input--textarea  label__input",attrs:{type:"text",required:""},domProps:{value:t.newUser.description},on:{input:function(e){e.target.composing||t.$set(t.newUser,"description",e.target.value)}}}),t._v(" "),a("span",{staticClass:"label__title"},[t._v("Описание")])]),t._v(" "),a("div",{staticClass:"img-prev  new-task__img-prev"},[a("label",{staticClass:"img-prev__label"},[a("img",{staticClass:"img-prev__img",attrs:{id:"img-pic",src:t.newUser.img}}),t._v(" "),a("span",{staticClass:"img-prev__icon"}),t._v(" "),a("input",{attrs:{type:"file",id:"test-input",hidden:""}})])]),t._v(" "),a("button",{staticClass:"btn  btn--primary  new-task__btn",on:{click:function(e){e.preventDefault(),t.createdTask(e)}}},[t._v("Отправить")])])])},staticRenderFns:[]};var x=a("VU/8")(T,U,!1,function(t){a("CsIM")},null,null).exports;s.a.use(u.a);var I,$=new u.a({linkExactActiveClass:"navigation__link--active",routes:[{path:"/",name:"TaskList",component:f},{path:"/task/created/",name:"TaskCreated",component:x},{path:"/task/edit/:taskID",name:"TaskEdit",component:b,props:function(t){return{taskID:t.params.taskID}}}]}),y=a("bOdI"),E=a.n(y),A=a("woOf"),S=a.n(A),D=(a("mtWM"),[{id:1,title:"Купить хлеб",description:"Купить хлеб в хлебном отделе",img:"http://www.likar.info/uploads/7e/92/e2/7e92e294-e800-4157-b97f-d3722987b7c4.jpg",time:"11.11.2016"},{id:2,title:"Купить чай",description:"Купить чай в чайном отделе",img:"http://elle.ua/upload/image/940x624_1_35c7dcbbda8643ae598c59401712f7c9@940x624_0xc0a839a4_20693511811476247512.jpeg",time:"11.11.2017"},{id:3,title:"Купить торт",description:"Купить торт в кондитерской",img:"https://cakemade.club/wp-content/uploads/2015/06/golyj-tort.jpg",time:"11.11.2018"}]),L={state:{all:[],lastId:0},getters:{allTask:function(t){return t.all},taskID:function(t){return function(e){var a=t.all.find(function(t,a){return+t.id==+e});return S()({},a)}}},actions:{getAllTask:function(t){var e=t.commit;t.state;e("SET_TASK_LIST",{tasks:D})},addTask:function(t,e){(0,t.commit)("ADD_SOLO_TASK",{task:e})},editTask:function(t,e){(0,t.commit)("EDIT_TASK",{task:e})},removeTask:function(t,e){(0,t.commit)("REMOVE_TASK",{id:e.id})}},mutations:(I={},E()(I,"SET_TASK_LIST",function(t,e){var a=e.tasks;t.lastId=t.lastId+a.length,t.all=a}),E()(I,"ADD_SOLO_TASK",function(t,e){var a=e.task;a.id=++t.lastId,t.all.push(a)}),E()(I,"EDIT_TASK",function(t,e){var a=e.task,s=t.all.find(function(t,e){return+t.id==+a.id});S()(s,a)}),E()(I,"REMOVE_TASK",function(t,e){var a=e.id,s=t.all.find(function(t,e){return+t.id==+a}),i=t.all.indexOf(s);t.all.splice(i,1)}),I)};s.a.use(i.a);var O=new i.a.Store({modules:{CardTask:L}}),q={install:function(t,e){t.prototype._throtlingFlag="",t.prototype.$throtling=function(t,e){clearTimeout(this._throtlingFlag),this._throtlingFlag=setTimeout(function(){return t()},1e3)},t.prototype.$checkInput=function(t){return/^[а-яА-ЯёЁa-zA-Z0-9!?.,$ ]+$/.test(String(t))}}};s.a.config.productionTip=!1,s.a.use(q),new s.a({el:"#app",store:O,router:$,components:{App:_},template:"<App/>"})},cDwY:function(t,e){},cp4l:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.0117c4fe2485c410c089.js.map